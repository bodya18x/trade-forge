# Trade Forge - External API Gateway

**Версия:** `0.2.0` | **Статус:** `MVP Ready`

## Описание

External API Gateway - это внешний API шлюз для безопасного доступа к Trade Forge платформе. Служит единой точкой входа для фронтенда, обеспечивает аутентификацию пользователей и проксирует авторизованные запросы в Internal API.

## Основные функции

### Аутентификация и авторизация
- Регистрация новых пользователей
- Авторизация с выдачей JWT токенов
- Валидация JWT токенов на всех защищенных маршрутах
- Управление профилем пользователя

### Проксирование запросов
- Прозрачное проксирование всех запросов в Internal API
- Автоматическое добавление заголовка `X-User-ID` для идентификации пользователя
- Обработка ошибок и таймаутов при взаимодействии с Internal API

## Безопасность

### Аутентификация
- JWT токены с 24-часовым сроком действия
- Secure password hashing с bcrypt
- Bearer token validation на всех защищенных маршрутах

### Проксирование
- Автоматическое добавление заголовка `X-User-ID` для идентификации пользователя в Internal API
- Валидация всех входящих запросов через Pydantic
- Обработка таймаутов и ошибок соединения

### CORS
- Настраиваемые CORS политики для фронтенда
- Поддержка preflight запросов

## Интеграция с Internal API

Gateway проксирует запросы в Internal API, добавляя заголовок `X-User-ID` для идентификации пользователя. Internal API полностью доверяет Gateway и использует этот заголовок для авторизации операций.

Схема взаимодействия:
```
Frontend Request → Gateway (JWT validation) → Internal API (X-User-ID header) → Response
```

## Ограничения MVP

1. Простое логирование без детального трейсинга
2. Отсутствует RBAC (возможно он и не тут должен быть)
3. Минимальная обработка ошибок проксирования

Эти ограничения будут устранены в следующих итерациях после MVP.